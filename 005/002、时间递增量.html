<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="小庄 http://github.com/JiaRui10" />
<title>新建网页</title>
</head>
    <body>
    	<p id="message">Whee!</p>

    	<script>
    		addLoadEvent(positionMessage);

    		function addLoadEvent(func){
    			var oldonload = window.onload;
    			if(typeof window.onload != "function"){
    				window.onload = func;
    			}else{
    				window.onload = function(){
    					oldonload();
    					func();
    				};
    			}
    		}
    		function positionMessage(){
    			if(!document.getElementById) return false;
    			if(!document.getElementById("message")) return false;
    			var elem = document.getElementById("message");

    			elem.style.position = "absolute";
    			elem.style.left = "50px";
    			elem.style.top = "100px";

    			// 2
    			movement = setTimeout("moveMessage()" , 10);
    		}

    		// 1、实现在短暂的停顿之后重复执行这个函数。
    		function moveMessage(){
    			if(!document.getElementById) return false;
    			if(!document.getElementById("message")) return false;
    			var elem = document.getElementById("message");

    			var xpos = parseInt(elem.style.left);
    			var ypos = parseInt(elem.style.top);

    			if(xpos==200 && ypos==100){
    				return true;
    			}
    			if(xpos<200){
    				xpos++;
    			}
    			if(xpos>200){
    				xpos--;
    			}
    			if(ypos<100){
    				ypos++;
    			}
    			if(ypos>100){
    				ypos--;
    			}

    			elem.style.left = xpos+"px";
    			elem.style.top = ypos+"px";
    			movement = setTimeout("moveMessage()" , 10);   // 实现重复调用
    		}
    	</script>
    </body>
</html>